{"version":3,"sources":["app.module.js","announcement/announcement.module.js","group/group.module.js","settings/settings.module.js","user/user.module.js","app.routes.js","gravatar.config.js","user/routeObserver.run.js","announcement/controller/detail.controller.js","announcement/factory/announcement.factory.js","group/controller/detail.controller.js","group/controller/list.controller.js","group/controller/members.controller.js","group/factory/group.factory.js","settings/controller/settings.controller.js","user/constant/auth.constant.js","user/constant/roles.constant.js","user/factory/auth.factory.js","user/factory/user.factory.js","user/service/userSession.service.js","user/controller/login.controller.js","user/controller/register.controller.js","user/controller/welcome.controller.js"],"names":[],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){\n\n'use strict';\n\nangular.module('ws.app', ['ionic', 'LocalStorageModule', 'ui.gravatar', 'ws.group', 'ws.announcement', 'ws.user', 'ws.settings'])\n    .config([\"$ionicConfigProvider\", function($ionicConfigProvider) {\n      $ionicConfigProvider.platform.android.backButton.icon('ion-ios7-arrow-back');\n      console.log($ionicConfigProvider.platform.android.tabs.style());\n    }])\n    .run([\"$ionicPlatform\", function($ionicPlatform) {\n          $ionicPlatform.ready(function() {\n            // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard\n            // for form inputs)\n            if(window.cordova && window.cordova.plugins.Keyboard) {\n              cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\n            }\n            if(window.StatusBar) {\n              // org.apache.cordova.statusbar required\n              StatusBar.styleDefault();\n            }\n        });\n    }]);\n\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.announcement', ['ionic']);\n})();","(function() {\n    'use strict';\n\n    angular.module('ws.group', ['ionic', 'ws.announcement', 'ws.user']);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.settings', ['ionic', 'ui.gravatar', 'ws.user']);\n})();","(function(){\n    'use strict';\n    angular.module('ws.user', ['ionic', 'LocalStorageModule']);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.app')\n        .config([\"$stateProvider\", \"$urlRouterProvider\", \"USER_ROLES\", function($stateProvider, $urlRouterProvider, USER_ROLES) {\n            $stateProvider\n                .state('tabs', {\n                    url: '/tabs',\n                    abstract: true,\n                    templateUrl: 'templates/tabs.html',\n                    data: {\n                        authorizedRoles: [USER_ROLES.all]\n                    }\n                })\n                .state('tabs.groups', {\n                    url: '/groups',\n                    views: {\n                        'tab-groups': {\n                            templateUrl: 'templates/group/list.html',\n                            controller: 'GroupListCtrl as ctrl'\n                        }\n                    }\n                    \n                })\n                .state('tabs.groups-announcement', {\n                    url: '/groups/:groupId/announcement/:announcementId',\n                    views: {\n                        'tab-groups': {\n                            templateUrl: 'templates/announcement/detail.html',\n                            controller: 'AnnouncementDetailCtrl as ctrl'\n                        }\n                    }\n                    \n                })\n                .state('tabs.groups-detail', {\n                    url: '/groups/:id',\n                    views: {\n                        'tab-groups': {\n                            templateUrl: 'templates/group/detail.html',\n                            controller: 'GroupDetailCtrl as ctrl'\n                        }\n                    }\n                    \n                })\n                .state('tabs.groups-members', {\n                    url: '/groups/:id/members',\n                    views: {\n                        'tab-groups': {\n                            templateUrl: 'templates/user/groupUsers.html',\n                            controller: 'GroupMembersCtrl as ctrl'\n                        }\n                    }\n                })\n                .state('tabs.contacts', {\n                    url: '/contacts',\n                    views: {\n                        'tab-contacts': {\n                            templateUrl: 'templates/user/list.html'\n                        }\n                    }\n                    \n                })\n                .state('tabs.settings', {\n                    url: '/settings',\n                    views: {\n                        'tab-settings': {\n                            templateUrl: 'templates/settings.html',\n                            controller: 'SettingsCtrl as ctrl'\n                        }\n                    }\n                })\n                .state('welcome', {\n                    url: '/welcome',\n                    templateUrl: 'templates/welcome.html',\n                    controller: 'WelcomeCtrl as ctrl'\n                })\n            ;\n            \n            $urlRouterProvider.otherwise('/welcome');\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.app').config([\"gravatarServiceProvider\", function(gravatarServiceProvider){\n        gravatarServiceProvider.defaults = {\n          size     : 80,\n          default: 'mm'  // Mystery man as default for missing avatars\n        };\n\n        // Use https endpoint\n        gravatarServiceProvider.secure = true;\n\n        // Force protocol\n        gravatarServiceProvider.protocol = 'https';\n    }]);\n})();","(function(){\n    'use strict';\n    angular.module('ws.user')\n        .run([\"$rootScope\", \"$state\", \"Auth\", \"AUTH_EVENTS\", function ($rootScope, $state, Auth, AUTH_EVENTS) {\n            $rootScope.$on('$stateChangeStart', function (event, next) {\n                var authorizedRoles = (next.data && next.data.authorizedRoles) ? next.data.authorizedRoles : null;\n                if (authorizedRoles && !Auth.isAuthorized(authorizedRoles)) {\n                    event.preventDefault();\n                    if (!Auth.isAuthenticated()) {\n                        $state.go('welcome');\n                        return;\n                    }\n                }\n                if(next.name === 'welcome' && Auth.isAuthenticated()) {\n                    event.preventDefault();\n                    $state.go('tabs.groups');\n                    return;\n                } \n\n            });\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.announcement')\n        .controller('AnnouncementDetailCtrl', [\"$stateParams\", \"GroupService\", \"AnnouncementService\", function($stateParams, GroupService, AnnouncementService){\n            var vm = this;\n            this.announcement = {};\n            this.group = {};\n\n            _reload();\n\n            function _reload() {\n                GroupService.getGroupById($stateParams.groupId).then(function(group){\n                    vm.group = group;\n                });\n                AnnouncementService.getAnnouncementById($stateParams.id).then(function(announcement){\n                    vm.announcement = announcement;\n                });\n            }\n\n\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.announcement')\n        .factory('AnnouncementService', [\"$q\", \"$timeout\", \"UserSession\", function($q, $timeout, UserSession){\n            return {\n                getAnnouncementsByGroupId: getAnnouncementsByGroupId,\n                getAnnouncementById: getAnnouncementById\n            };\n\n            var user = UserSession.user;\n\n            function getAnnouncementsByGroupId(groupId) {\n                //TODO: Implement Real Api\n                var deferred = $q.defer();\n                $timeout(function(){\n                    var announcements = [\n                        {\n                            id: 1,\n                            logo: 'ion-calendar',\n                            name: 'Announcement 1'\n                        },\n                        {\n                            id: 2,\n                            logo: 'ion-clock',\n                            name: 'Announcement 2'\n                        },\n                        {\n                            id: 3,\n                            logo: 'ion-coffee',\n                            name: 'Announcement 3'\n                        }\n                    ];\n                    deferred.resolve(announcements);\n                }, 1000);\n                return deferred.promise;\n            };\n\n            function getAnnouncementById(id) {\n                //TODO: Implement Real Api\n                var deferred = $q.defer();\n                $timeout(function(){\n                    var announcement ={\n                        id: 1,\n                        groupId: 1,\n                        logo: 'ion-calendar',\n                        name: 'Announcement 1',\n                        description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys' + \n                        'standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make' +\n                        'a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining' +\n                        'essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum' +\n                        'passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\n                        comments: [\n                            {\n                                content: 'Cool',\n                                user: { id: 1, name: 'John Doe'}\n                            },\n                            {\n                                content: 'Awesome!!!',\n                                user: { id: 1, name: 'John Doe'}\n                            }, \n                            {\n                                content: 'Super',\n                                user: { id: 1, name: 'John Doe'}\n                            }  \n                        ]            \n                    };\n\n                    deferred.resolve(announcement);    \n                }, 1000);\n                return deferred.promise;\n            };\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.group')\n        .controller('GroupDetailCtrl', [\"$stateParams\", \"GroupService\", \"AnnouncementService\", \"UserService\", function($stateParams, GroupService, AnnouncementService, UserService){\n            var vm = this;\n            this.group = {};\n\n            this.members = [];\n\n            this.announcements = [];\n\n            this.getMemberNames = function() {\n                var members = [];\n                for(var i = 0; i < this.members.length; i += 1) {\n                    members.push(this.members[i].firstName + ' ' + this.members[i].lastName);\n                }\n                return members;\n            };\n\n            _reload();\n\n            function _reload() {\n                GroupService.getGroupById($stateParams.id).then(function(group){\n                    vm.group = group;\n                });\n                AnnouncementService.getAnnouncementsByGroupId($stateParams.id).then(function(announcements){\n                    vm.announcements = announcements;\n                });\n                UserService.getUsersByGroupId($stateParams.id).then(function(members){\n                    vm.members = members;\n                });\n            }\n\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.group')\n        .controller('GroupListCtrl', [\"GroupService\", function(GroupService){\n            var vm = this;\n            this.groups = [];\n\n            _reload();\n\n            function _reload() {\n                GroupService.getGroups().then(function(groups){\n                    vm.groups = groups;\n                });\n            }\n        }])\n    ;\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.group')\n        .controller('GroupMembersCtrl', [\"$stateParams\", \"GroupService\", \"UserService\", function($stateParams, GroupService, UserService){\n            var vm = this;\n            this.group = {};\n            this.memebrs = [];\n\n            _reload();\n\n            function _reload() {\n                GroupService.getGroupById($stateParams.id).then(function(group){\n                    vm.group = group;\n                });\n                UserService.getUsersByGroupId($stateParams.id).then(function(members){\n                    vm.members = members;\n                });\n            }\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.group')\n        .factory('GroupService', [\"$q\", \"$timeout\", \"UserSession\", function($q, $timeout, UserSession){\n            return {\n                getGroups: getGroups,\n                getGroupById: getGroupById\n            };\n\n            var user = UserSession.user;\n\n            function getGroups() {\n                //TODO: Implement Real Api\n                var deferred = $q.defer();\n                $timeout(function(){\n                    var groups = [\n                        {\n                            id: 1,\n                            name: 'Group 1',\n                            owner: 'Owner'\n                        },\n                        {\n                            id: 1,\n                            name: 'Group 2',\n                            owner: 'Owner 2'\n                        }\n                    ];\n                    deferred.resolve(groups);\n                }, 1000);\n                return deferred.promise;\n            };\n\n            function getGroupById(id) {\n                //TODO: Implement Real Api\n                var deferred = $q.defer();\n                $timeout(function(){\n                    var group = {\n                        id: 1, \n                        name: 'Group 1', \n                        owner: 'Owner',\n                        announcements: [\n                            {\n                                id: 1,\n                                logo: 'ion-calendar',\n                                name: 'Announcement 1'\n                            },\n                            {\n                                id: 2,\n                                logo: 'ion-clock',\n                                name: 'Announcement 2'\n                            },\n                            {\n                                id: 3,\n                                logo: 'ion-coffee',\n                                name: 'Announcement 3'\n                            }\n                        ],\n                        members: [\n                            {name: 'John Doe'}, \n                            {name: 'Jane Doe'}, \n                            {name: 'John Doe'}, \n                            {name: 'John Doe'}, \n                            {name: 'John Doe'}, \n                            {name: 'John Doe'}, \n                            {name: 'John Doe'}, \n                            {name: 'John Doe'}\n                        ]\n                    };\n\n                    deferred.resolve(group);    \n                }, 1000);\n                return deferred.promise;\n            };\n        }])\n    ;\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.settings')\n        .controller('SettingsCtrl', [\"$state\", \"Auth\", \"UserSession\", function($state, Auth, UserSession){\n            this.logout = function() {\n                Auth.logout();\n                $state.go('welcome');\n            };\n            this.user = UserSession.getUser();\n        }]);\n})();","(function(){\n    'use strict';\n    angular.module('ws.user')\n        .constant('AUTH_EVENTS', {\n            loginSuccess:           'auth-login-success',\n            loginFailed:            'auth-login-failed',\n            logoutSuccess:          'auth-logout-success',\n            sessionTimeout:         'auth-session-timeout',\n            notAuthenticated:       'auth-not-authenticated',\n            notAuthorized:          'auth-not-authorized'\n        });\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.user')\n        .constant('USER_ROLES', {\n            all:        '*',\n            admin:      'admin',\n            teacher:    'teacher',\n            student:    'student',\n        });\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.user')\n        .factory('Auth', [\"$http\", \"$q\", \"$timeout\", \"$ionicHistory\", \"UserSession\", \"USER_ROLES\", function ($http, $q, $timeout, $ionicHistory, UserSession, USER_ROLES) {\n            var authService = {};\n\n            authService.login = function (credentials) {\n                //TODO: Implement Login Api\n                var deferred = $q.defer();\n\n                $timeout(function(){\n                    var user;\n                    if(credentials.username === 'thomas') {\n                        user = {\n                            firstName: 'Thomas', \n                            lastName: 'Hampe',     \n                            username: 'thomas',\n                            email: 'thomas@hampe.co', \n                            role: USER_ROLES.student\n                        };\n                        UserSession.create(user);\n                        deferred.resolve(user);\n                    } else if(credentials.username === 'admin') {\n                        user = {\n                            firstName: 'Administratore', \n                            lastName: 'Admin', \n                            username: 'admin',\n                            email: 'admin@hampe.co', \n                            role: USER_ROLES.admin\n                        };\n                        UserSession.create(user);\n                        deferred.resolve(user);\n                    } else {\n                        deferred.reject({ message: 'Username or Password invalid' });\n                    }\n                }, 300);\n\n                return deferred.promise;\n            };\n\n            authService.register = function(credentials) {\n                var deferred = $q.defer();\n                //TODO: Login API\n                return this.login(credentials);\n            }\n\n            authService.logout = function(){\n                $ionicHistory.clearCache()\n                return UserSession.destroy();\n            };\n\n            authService.isAuthenticated = function () {\n                return !!UserSession.getUser().username;\n            };\n\n            authService.isAuthorized = function (authorizedRoles) {\n                if (!angular.isArray(authorizedRoles)) {\n                  authorizedRoles = [authorizedRoles];\n                }\n                return (authService.isAuthenticated() && \n                    (authorizedRoles.indexOf(UserSession.getUser().role) !== -1 || authorizedRoles.indexOf(USER_ROLES.all) !== -1));\n            };\n\n            return authService;\n        }]);\n})();","(function(){\n    'use strict';\n\n     angular.module('ws.group')\n        .factory('UserService', [\"$q\", \"$timeout\", \"UserSession\", \"USER_ROLES\", function($q, $timeout, UserSession, USER_ROLES){\n            return {\n                getUsers: getUsers,\n                getUsersByGroupId: getUsersByGroupId,\n                getUserById: getUserById\n            };\n\n            var user = UserSession.user;\n\n            function getUsers() {\n                //TODO: Implement Real Api\n                var deferred = $q.defer();\n                $timeout(function(){\n                    var users = [\n                        {\n                            firstName: 'Thomas', \n                            lastName: 'Hampe',     \n                            username: 'thomas',\n                            email: 'thomas@hampe.co', \n                            role: USER_ROLES.student\n                        },\n                        {\n                            firstName: 'Administratore', \n                            lastName: 'Admin', \n                            username: 'admin',\n                            email: 'admin@hampe.co', \n                            role: USER_ROLES.admin\n                        }\n                    ];\n                    deferred.resolve(users);\n                }, 1000);\n                return deferred.promise;\n            };\n\n            function getUsersByGroupId(groupId) {\n                //TODO: Implement Real Api\n                var deferred = $q.defer();\n                $timeout(function(){\n                    var users = [\n                        {\n                            firstName: 'Thomas', \n                            lastName: 'Hampe',     \n                            username: 'thomas',\n                            email: 'thomas@hampe.co', \n                            role: USER_ROLES.student\n                        },\n                        {\n                            firstName: 'Administratore', \n                            lastName: 'Admin', \n                            username: 'admin',\n                            email: 'admin@hampe.co', \n                            role: USER_ROLES.admin\n                        }\n                    ];\n                    deferred.resolve(users);\n                }, 1000);\n                return deferred.promise;\n            };\n\n            function getUserById(id) {\n                //TODO: Implement Real Api\n                var deferred = $q.defer();\n                $timeout(function(){\n                    var user = {\n                        firstName: 'Thomas', \n                        lastName: 'Hampe',     \n                        username: 'thomas',\n                        email: 'thomas@hampe.co', \n                        role: USER_ROLES.student\n                    };\n\n                    deferred.resolve(user);    \n                }, 1000);\n                return deferred.promise;\n            };\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.user')\n        .service('UserSession', [\"localStorageService\", function(localStorageService){\n            var _userProps = ['firstName', 'lastName', 'email', 'username', 'role'];\n            \n            this.getUser = function() {\n                return localStorageService.get('user') || {};\n            };\n\n            this.create = function (user) {\n                localStorageService.set('user', user);\n            };\n            this.destroy = function () {\n                localStorageService.set('user', {});\n            };\n              return this;\n        }]);\n})();","(function(){\n    'use strict';\n    angular.module('ws.user')\n        .controller('LoginCtrl', [\"$rootScope\", \"$scope\", \"$ionicPopup\", \"AUTH_EVENTS\", \"Auth\", function LoginCtrl($rootScope, $scope, $ionicPopup, AUTH_EVENTS, Auth){\n            this.credentials = {\n                username: '',\n                password: ''\n            };\n            this.title = 'Login';\n            var self = this;\n            this.login = function(){\n                this.title = 'Please wait...';\n                Auth.login(this.credentials).then(function(user) {\n                    self.title = 'Login';\n                    self.credentials = {\n                        username: '',\n                        password: ''\n                    };\n                    if($scope.loginModal) {\n                        $scope.loginModal.hide();\n                    }\n                }, function (error) {\n                    self.title = 'Login';\n                    $ionicPopup.alert({\n                        title: 'Ooops :(',\n                        template: error.message || 'Please try again later...'\n                    });\n                });\n            };\n\n            this.cancel = function() {\n                if($scope.loginModal) {\n                    $scope.loginModal.hide();\n                }\n            };\n\n        }]);\n})();","(function(){\n    'use strict';\n    angular.module('ws.user')\n        .controller('RegisterCtrl', [\"$rootScope\", \"$scope\", \"$ionicPopup\", \"AUTH_EVENTS\", \"Auth\", function LoginCtrl($rootScope, $scope, $ionicPopup, AUTH_EVENTS, Auth){\n            this.credentials = {};\n            this.title = \"\";\n            var self = this;\n            this.register = function(){\n                this.title = 'Please wait...';\n                Auth.register(this.credentials).then(function(user) {\n                    _init();\n                    if($scope.registerModal) {\n                        $scope.registerModal.hide();\n                    }\n                }, function (error) {\n                    $ionicPopup.alert({\n                        title: 'Ooops :(',\n                        template: error.message || 'Please try again later...'\n                    });\n                });\n            };\n\n            this.cancel = function() {\n                if($scope.registerModal) {\n                    $scope.registerModal.hide();\n                }\n            };\n\n            function _init(){\n                self.credentials = {\n                    firstName: '',\n                    lastName: '',\n                    email: '',\n                    username: '',\n                    password: ''\n                };\n                self.title = 'Register';\n            };\n            _init();\n\n        }]);\n})();","(function(){\n    'use strict';\n\n    angular.module('ws.user')\n        .controller('WelcomeCtrl', [\"$scope\", \"$state\", \"$ionicModal\", \"Auth\", function($scope, $state, $ionicModal, Auth){\n            this.openLogin = function(){\n                $scope.loginModal.show();\n            };\n            this.openRegister = function(){\n                $scope.registerModal.show();\n            };\n            //Login\n            $ionicModal.fromTemplateUrl('templates/user/login.html', {\n                scope: $scope,\n                animation: 'slide-in-up'\n            }).then(function(modal) {\n                $scope.loginModal = modal;\n            });\n\n            //Register\n            $ionicModal.fromTemplateUrl('templates/user/register.html', {\n                scope: $scope,\n                animation: 'slide-in-up'\n            }).then(function(modal) {\n                $scope.registerModal = modal;\n            });\n\n            $scope.$on('$destroy', function() {\n                $scope.loginModal.remove();\n                $scope.registerModal.remove();\n            });\n\n\n\n            // Execute action on hide modal\n            $scope.$on('modal.hidden', function() {\n                if(Auth.isAuthenticated()) {\n                    $state.go('tabs.groups');\n                }\n            });\n            // Execute action on remove modal\n            $scope.$on('loginModal.removed', function() {\n            // Execute action\n            });\n\n        }]);\n})();"],"sourceRoot":"/source/"}